{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://json-schema.sodaru.com/serverless-template/resources/sqs-queue.json",
  "title": "JSON Schema for SQS Queue Resource in Serverless Template by Sodaru Technologies",
  "type": "object",
  "required": ["Type", "Properties"],
  "properties": {
    "Type": { "const": "AWS::SQS::Queue" },
    "SLP::Extend": {
      "$ref": "./resource-properties.json#/definitions/SLP::Extend"
    },
    "SLP::DependsOn": {
      "$ref": "./resource-properties.json#/definitions/SLP::DependsOn"
    },
    "SLP::Output": {
      "$ref": "./resource-properties.json#/definitions/SLP::Output"
    },
    "Properties": {
      "type": "object",
      "additionalProperties": false,
      "required": ["QueueName"],
      "properties": {
        "QueueName": {
          "$ref": "../expression.json#/definitions/slpResourceName"
        },
        "ContentBasedDeduplication": { "type": "boolean" },
        "DeduplicationScope": { "enum": ["messageGroup", "queue"] },
        "DelaySeconds": {
          "type": "integer",
          "description": "The time in seconds for which the delivery of all messages in the queue is delayed",
          "minimum": 0,
          "maximum": 900
        },
        "FifoQueue": { "type": "boolean" },
        "FifoThroughputLimit": { "enum": ["perQueue", "perMessageGroupId"] },
        "KmsDataKeyReusePeriodSeconds": {
          "type": "integer",
          "description": "The length of time in seconds for which Amazon SQS can reuse a data key to encrypt or decrypt messages before calling AWS KMS again. The default is 300 (5 minutes).",
          "minimum": 60,
          "maximum": 86400
        },
        "KmsMasterKeyId": {
          "$ref": "../expression.json#/definitions/stringLike"
        },
        "MaximumMessageSize": {
          "type": "integer",
          "description": "The limit of how many bytes that a message can contain before Amazon SQS rejects it. The default value is 262,144 (256 KiB).",
          "minimum": 1024,
          "maximum": 262144
        },
        "MessageRetentionPeriod": {
          "type": "integer",
          "description": "The number of seconds that Amazon SQS retains a message. The default value is 345,600 seconds (4 days).",
          "minimum": 60,
          "maximum": 1209600
        },
        "ReceiveMessageWaitTimeSeconds": {
          "type": "integer",
          "description": "Specifies the duration, in seconds, that the ReceiveMessage action call waits until a message is in the queue in order to include it in the response, rather than returning an empty response if a message isn't yet available.",
          "minimum": 0,
          "maximum": 20
        },
        "RedrivePolicy": { "type": "object" },
        "Tags": { "$ref": "../tags.json#/definitions/tagsList" },
        "VisibilityTimeout": {
          "type": "integer",
          "description": "The length of time during which a message will be unavailable after a message is delivered from the queue. This blocks other components from receiving the same message and gives the initial component time to process and delete the message from the queue. Default is 30 seconds",
          "minimum": 0,
          "maximum": 43200
        }
      }
    }
  }
}
